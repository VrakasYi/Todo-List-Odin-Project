(()=>{"use strict";!function(){const t=document.getElementById("content"),e=document.createElement("div");e.id="header",e.textContent="DO THE THING",t.appendChild(e);const n=document.createElement("div");n.id="main",t.appendChild(n);const d=document.createElement("div");d.id="left",n.appendChild(d);const o=document.createElement("div");o.id="projectList",d.appendChild(o);const c=document.createElement("button");c.id="newList",c.textContent="New project",d.appendChild(c);const a=document.createElement("div");a.id="popup",a.classList.add("inactive"),n.appendChild(a);const i=document.createElement("h3");i.textContent="Add a new project",a.appendChild(i);const l=document.createElement("form");l.id="newListForm",a.appendChild(l);const s=document.createElement("div");s.classList.add("form-element"),l.appendChild(s);const m=document.createElement("label");m.setAttribute("for","title"),s.appendChild(m);const p=document.createElement("input");p.type="text",p.id="title",p.placeholder="New project",s.appendChild(p);const r=document.createElement("div");r.id="popupButtCont",l.appendChild(r);const u=document.createElement("button");u.type="submit",u.textContent="Submit",r.appendChild(u);const h=document.createElement("button");h.type="button",h.textContent="Cancel",r.appendChild(h);const C=document.createElement("div");C.id="newTaskPop",C.classList.add("inactive"),n.appendChild(C);const E=document.createElement("form");E.id="newTaskForm",C.appendChild(E);const v=document.createElement("div");v.classList.add("form-element"),E.appendChild(v);const g=document.createElement("h5");g.textContent="Title",v.appendChild(g);const L=document.createElement("label");L.setAttribute("for","taskTitle"),v.appendChild(L);const k=document.createElement("input");k.type="text",k.id="taskTitle",v.appendChild(k);const y=document.createElement("h5");y.textContent="High priority",v.appendChild(y);const x=document.createElement("input");x.type="checkbox",x.id="prio",v.appendChild(x);const j=document.createElement("h5");j.textContent="Date",v.appendChild(j);const T=document.createElement("input");T.type="date",T.id="date",T.name="date",v.appendChild(T);const f=document.createElement("button");f.type="submit",f.textContent="Submit",E.appendChild(f);const B=document.createElement("div");B.id="listBox",n.appendChild(B)}();const t=(()=>{let t=[];if(localStorage.getItem("localData")){let e=JSON.parse(localStorage.getItem("localData"));t.push(...e)}else t=[{projectName:"Default",tasks:[{taskTitle:"Code the to do project",highPrio:!0,date:"2023-11-31"}]}];return{addProject:e=>{const n={projectName:e,tasks:[]};t.push(n),localStorage.setItem("localData",JSON.stringify(t))},getProject:e=>t.find((t=>t.projectName===e)),projectData:t}})(),e=(()=>{const e=document.getElementById("projectList"),n=document.getElementById("newList"),d=document.getElementById("popup"),o=document.getElementById("newListForm"),c=document.getElementById("listBox");let a;const i=()=>{e.innerHTML="",t.projectData.forEach((t=>{const n=document.createElement("button");n.textContent=t.projectName,n.id=t.projectName,e.appendChild(n)}))};return i(),n.addEventListener("click",(()=>{d.classList.remove("inactive"),d.classList.add("active")})),o.addEventListener("submit",(function(e){e.preventDefault();let n=document.getElementById("title").value;t.addProject(n),i(),d.classList.remove("active"),d.classList.add("inactive")})),e.addEventListener("click",(e=>{"BUTTON"===e.target.tagName&&(a=e.target.id,(()=>{c.innerHTML="";const e=document.createElement("div");e.textContent="Project: "+a,e.id=a,e.classList.add("listEntry"),c.appendChild(e);const n=document.createElement("div");n.textContent="Tasks:",n.classList.add("listEntry"),c.appendChild(n);const d=t.getProject(a),o=document.createElement("div");o.id="tasklist",c.appendChild(o),d.tasks.forEach((t=>{const e=document.createElement("div");e.classList.add("taskDiv");const n=document.createElement("div");n.textContent=t.taskTitle,e.appendChild(n);const d=document.createElement("div");!0===t.highPrio?d.textContent="High prio":d.textContent="Low prio",e.appendChild(d);const c=document.createElement("div");c.textContent="Due date: "+t.date,e.appendChild(c),o.appendChild(e)}));const i=document.createElement("button");i.textContent="Add new task",i.id="newTaskButton",e.appendChild(i)})())})),{getProjectId:()=>a,displayProjects:i}})();(()=>{const n=document.getElementById("listBox"),d=document.getElementById("newTaskPop"),o=document.getElementById("newTaskForm");let c;n.addEventListener("click",(t=>{"newTaskButton"===t.target.id&&(console.log("you need a pop up"),d.classList.remove("inactive"),d.classList.add("active"))})),o.addEventListener("submit",(function(o){o.preventDefault();const a=e.getProjectId(),i=document.getElementById("taskTitle").value;let l;l=!!document.getElementById("prio").checked;const s={taskTitle:i,highPrio:l,date:document.getElementById("date").value};c=t.getProject(a),c.tasks.push(s),localStorage.setItem("localData",JSON.stringify(t.projectData));const m=document.getElementById("tasklist");n.appendChild(m),m.innerHTML="",function(t){c.tasks.forEach((e=>{const n=document.createElement("div");n.classList.add("taskDiv");const d=document.createElement("div");d.textContent=e.taskTitle,n.appendChild(d);const o=document.createElement("div");!0===e.highPrio?o.textContent="High prio":o.textContent="Low prio",n.appendChild(o);const c=document.createElement("div");c.textContent="Due date: "+e.date,n.appendChild(c),t.appendChild(n)}))}(m),d.classList.remove("active"),d.classList.add("inactive")}))})()})();