(()=>{"use strict";!function(){const e=document.getElementById("content"),t=document.createElement("div");t.id="header",t.textContent="DO THE THING",e.appendChild(t);const n=document.createElement("div");n.id="main",e.appendChild(n);const d=document.createElement("div");d.id="left",n.appendChild(d);const c=document.createElement("div");c.id="projectList",d.appendChild(c);const a=document.createElement("button");a.id="newList",a.textContent="New project",d.appendChild(a);const o=document.createElement("div");o.id="popup",o.classList.add("inactive"),n.appendChild(o);const i=document.createElement("h3");i.textContent="Add a new project",o.appendChild(i);const l=document.createElement("form");l.id="newListForm",o.appendChild(l);const s=document.createElement("div");s.classList.add("form-element"),l.appendChild(s);const m=document.createElement("label");m.setAttribute("for","title"),s.appendChild(m);const p=document.createElement("input");p.type="text",p.id="title",p.placeholder="New project",s.appendChild(p);const r=document.createElement("div");r.id="popupButtCont",l.appendChild(r);const u=document.createElement("button");u.type="submit",u.textContent="Submit",r.appendChild(u);const E=document.createElement("button");E.type="button",E.textContent="Cancel",E.id="cancelNewProjectButton",r.appendChild(E);const C=document.createElement("div");C.id="newTaskPop",C.classList.add("inactive"),n.appendChild(C);const h=document.createElement("form");h.id="newTaskForm",C.appendChild(h);const v=document.createElement("div");v.classList.add("form-element"),h.appendChild(v);const g=document.createElement("h5");g.textContent="Title",v.appendChild(g);const L=document.createElement("label");L.setAttribute("for","taskTitle"),v.appendChild(L);const k=document.createElement("input");k.type="text",k.id="taskTitle",v.appendChild(k);const y=document.createElement("h5");y.textContent="High priority",y.id="prioH5",v.appendChild(y);const T=document.createElement("input");T.type="checkbox",T.id="prio",v.appendChild(T);const j=document.createElement("h5");j.textContent="Date",v.appendChild(j);const B=document.createElement("input");B.type="date",B.id="date",B.name="date",v.appendChild(B);const x=document.createElement("div");x.id="newTaskButtonContainer",h.appendChild(x);const I=document.createElement("button");I.type="submit",I.textContent="Submit",x.appendChild(I);const b=document.createElement("button");b.type="button",b.textContent="Cancel",b.id="newTaskCancel",x.appendChild(b);const f=document.createElement("div");f.id="listBox",n.appendChild(f)}();const e=(()=>{let e=[];if(localStorage.getItem("localData")){let t=JSON.parse(localStorage.getItem("localData"));e.push(...t)}else e=[{projectName:"Default",tasks:[{taskTitle:"Code the to do project",highPrio:!0,date:"2023-11-31"}]}];return{addProject:t=>{const n={projectName:t,tasks:[]};e.push(n),localStorage.setItem("localData",JSON.stringify(e))},getProject:t=>e.find((e=>e.projectName===t)),projectData:e}})(),t=(()=>{const t=document.getElementById("projectList"),d=document.getElementById("newList"),c=document.getElementById("popup"),a=document.getElementById("newListForm"),o=document.getElementById("listBox"),i=document.getElementById("cancelNewProjectButton");let l;const s=()=>{t.innerHTML="",e.projectData.forEach((e=>{const n=document.createElement("button");n.textContent=e.projectName,n.id=e.projectName,t.appendChild(n)}))};return s(),d.addEventListener("click",(()=>{c.classList.remove("inactive"),c.classList.add("active")})),i.addEventListener("click",(()=>{c.classList.remove("active"),c.classList.add("inactive")})),a.addEventListener("submit",(function(t){t.preventDefault();let n=document.getElementById("title").value;e.addProject(n),s(),c.classList.remove("active"),c.classList.add("inactive")})),t.addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&(l=t.target.id,(()=>{o.innerHTML="";const t=document.createElement("div");t.textContent="Project: "+l,t.id=l,t.classList.add("listEntry"),o.appendChild(t);const d=document.createElement("div");d.textContent="Tasks:",d.classList.add("listEntry"),o.appendChild(d);const c=e.getProject(l),a=document.createElement("div");a.id="tasklist",o.appendChild(a),n.displayTasks1(c,a);const i=document.createElement("button");i.textContent="Add new task",i.id="newTaskButton",t.appendChild(i)})())})),{getProjectId:()=>l,displayProjects:s}})(),n=((()=>{const d=document.getElementById("listBox"),c=document.getElementById("newTaskPop"),a=document.getElementById("newTaskForm"),o=document.getElementById("newTaskCancel");let i;d.addEventListener("click",(e=>{"newTaskButton"===e.target.id&&(console.log("you need a pop up"),c.classList.remove("inactive"),c.classList.add("active"))})),o.addEventListener("click",(()=>{c.classList.remove("active"),c.classList.add("inactive")})),a.addEventListener("submit",(function(a){a.preventDefault();const o=t.getProjectId(),l=document.getElementById("taskTitle").value;let s;s=!!document.getElementById("prio").checked;const m={taskTitle:l,highPrio:s,date:document.getElementById("date").value};i=e.getProject(o),i.tasks.push(m),localStorage.setItem("localData",JSON.stringify(e.projectData));const p=document.getElementById("tasklist");d.appendChild(p),p.innerHTML="",n.displayTasks1(i,p),c.classList.remove("active"),c.classList.add("inactive")}))})(),{displayTasks1:function(t,n){t.tasks.forEach(((d,c)=>{const a=document.createElement("div");a.classList.add("taskDiv");const o=document.createElement("div");o.textContent=d.taskTitle,a.appendChild(o);const i=document.createElement("div");!0===d.highPrio?i.textContent="High prio":i.textContent="Low prio",a.appendChild(i);const l=document.createElement("div");l.textContent="Due date: "+d.date,a.appendChild(l);const s=document.createElement("button");s.textContent="Delete",s.addEventListener("click",(()=>{a.remove(),t.tasks.splice(c,1),localStorage.setItem("localData",JSON.stringify(e.projectData))})),a.appendChild(s),n.appendChild(a)}))}})})();