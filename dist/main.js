(()=>{"use strict";!function(){const e=document.getElementById("content"),t=document.createElement("div");t.id="header",t.textContent="DO THE THING",e.appendChild(t);const n=document.createElement("div");n.id="main",e.appendChild(n);const d=document.createElement("div");d.id="left",n.appendChild(d);const a=document.createElement("div");a.id="projectList",d.appendChild(a);const c=document.createElement("button");c.id="newList",c.textContent="New project",d.appendChild(c);const o=document.createElement("div");o.id="popup",o.classList.add("inactive"),n.appendChild(o);const i=document.createElement("h3");i.textContent="Add a new project",o.appendChild(i);const l=document.createElement("form");l.id="newListForm",o.appendChild(l);const s=document.createElement("div");s.classList.add("form-element"),l.appendChild(s);const m=document.createElement("label");m.setAttribute("for","title"),s.appendChild(m);const p=document.createElement("input");p.type="text",p.id="title",p.placeholder="New project",s.appendChild(p);const r=document.createElement("div");r.id="popupButtCont",l.appendChild(r);const u=document.createElement("button");u.type="submit",u.textContent="Submit",r.appendChild(u);const E=document.createElement("button");E.type="button",E.textContent="Cancel",r.appendChild(E);const h=document.createElement("div");h.id="newTaskPop",h.classList.add("inactive"),n.appendChild(h);const C=document.createElement("form");C.id="newTaskForm",h.appendChild(C);const v=document.createElement("div");v.classList.add("form-element"),C.appendChild(v);const g=document.createElement("h5");g.textContent="Title",v.appendChild(g);const y=document.createElement("label");y.setAttribute("for","taskTitle"),v.appendChild(y);const k=document.createElement("input");k.type="text",k.id="taskTitle",v.appendChild(k);const L=document.createElement("h5");L.textContent="High priority",v.appendChild(L);const j=document.createElement("input");j.type="checkbox",j.id="prio",v.appendChild(j);const x=document.createElement("h5");x.textContent="Date",v.appendChild(x);const T=document.createElement("input");T.type="date",T.id="date",T.name="date",v.appendChild(T);const I=document.createElement("button");I.type="submit",I.textContent="Submit",C.appendChild(I);const f=document.createElement("div");f.id="listBox",n.appendChild(f)}();const e=(()=>{let e=[];if(localStorage.getItem("localData")){let t=JSON.parse(localStorage.getItem("localData"));e.push(...t)}else e=[{projectName:"Default",tasks:[{taskTitle:"Code the to do project",highPrio:!0,date:"2023-11-31"}]}];return{addProject:t=>{const n={projectName:t,tasks:[]};e.push(n),localStorage.setItem("localData",JSON.stringify(e))},getProject:t=>e.find((e=>e.projectName===t)),projectData:e}})(),t=(()=>{const t=document.getElementById("projectList"),d=document.getElementById("newList"),a=document.getElementById("popup"),c=document.getElementById("newListForm"),o=document.getElementById("listBox");let i;const l=()=>{t.innerHTML="",e.projectData.forEach((e=>{const n=document.createElement("button");n.textContent=e.projectName,n.id=e.projectName,t.appendChild(n)}))};return l(),d.addEventListener("click",(()=>{a.classList.remove("inactive"),a.classList.add("active")})),c.addEventListener("submit",(function(t){t.preventDefault();let n=document.getElementById("title").value;e.addProject(n),l(),a.classList.remove("active"),a.classList.add("inactive")})),t.addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&(i=t.target.id,(()=>{o.innerHTML="";const t=document.createElement("div");t.textContent="Project: "+i,t.id=i,t.classList.add("listEntry"),o.appendChild(t);const d=document.createElement("div");d.textContent="Tasks:",d.classList.add("listEntry"),o.appendChild(d);const a=e.getProject(i),c=document.createElement("div");c.id="tasklist",o.appendChild(c),n.displayTasks1(a,c);const l=document.createElement("button");l.textContent="Add new task",l.id="newTaskButton",t.appendChild(l)})())})),{getProjectId:()=>i,displayProjects:l}})(),n=((()=>{const d=document.getElementById("listBox"),a=document.getElementById("newTaskPop"),c=document.getElementById("newTaskForm");let o;d.addEventListener("click",(e=>{"newTaskButton"===e.target.id&&(console.log("you need a pop up"),a.classList.remove("inactive"),a.classList.add("active"))})),c.addEventListener("submit",(function(c){c.preventDefault();const i=t.getProjectId(),l=document.getElementById("taskTitle").value;let s;s=!!document.getElementById("prio").checked;const m={taskTitle:l,highPrio:s,date:document.getElementById("date").value};o=e.getProject(i),o.tasks.push(m),localStorage.setItem("localData",JSON.stringify(e.projectData));const p=document.getElementById("tasklist");d.appendChild(p),p.innerHTML="",n.displayTasks1(o,p),a.classList.remove("active"),a.classList.add("inactive")}))})(),{displayTasks1:function(t,n){t.tasks.forEach(((d,a)=>{const c=document.createElement("div");c.classList.add("taskDiv");const o=document.createElement("div");o.textContent=d.taskTitle,c.appendChild(o);const i=document.createElement("div");!0===d.highPrio?i.textContent="High prio":i.textContent="Low prio",c.appendChild(i);const l=document.createElement("div");l.textContent="Due date: "+d.date,c.appendChild(l);const s=document.createElement("button");s.textContent="Delete",s.addEventListener("click",(()=>{c.remove(),t.tasks.splice(a,1),localStorage.setItem("localData",JSON.stringify(e.projectData))})),c.appendChild(s),n.appendChild(c)}))}})})();