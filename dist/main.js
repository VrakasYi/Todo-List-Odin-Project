(()=>{"use strict";!function(){const e=document.getElementById("content"),t=document.createElement("div");t.id="header",t.textContent="DO THE THING",e.appendChild(t);const n=document.createElement("div");n.id="main",e.appendChild(n);const d=document.createElement("div");d.id="left",n.appendChild(d);const c=document.createElement("div");c.id="projectList",d.appendChild(c);const a=document.createElement("button");a.id="newList",a.textContent="New project",d.appendChild(a);const o=document.createElement("div");o.id="popup",o.classList.add("inactive"),n.appendChild(o);const i=document.createElement("h3");i.textContent="Add a new project",o.appendChild(i);const l=document.createElement("form");l.id="newListForm",o.appendChild(l);const s=document.createElement("div");s.classList.add("form-element"),l.appendChild(s);const m=document.createElement("label");m.setAttribute("for","title"),s.appendChild(m);const p=document.createElement("input");p.type="text",p.id="title",p.placeholder="New project",s.appendChild(p);const r=document.createElement("div");r.id="popupButtCont",l.appendChild(r);const u=document.createElement("button");u.type="submit",u.textContent="Submit",r.appendChild(u);const E=document.createElement("button");E.type="button",E.textContent="Cancel",r.appendChild(E);const h=document.createElement("div");h.id="newTaskPop",h.classList.add("inactive"),n.appendChild(h);const C=document.createElement("form");C.id="newTaskForm",h.appendChild(C);const v=document.createElement("div");v.classList.add("form-element"),C.appendChild(v);const g=document.createElement("h5");g.textContent="Title",v.appendChild(g);const k=document.createElement("label");k.setAttribute("for","taskTitle"),v.appendChild(k);const y=document.createElement("input");y.type="text",y.id="taskTitle",v.appendChild(y);const L=document.createElement("h5");L.textContent="High priority",v.appendChild(L);const x=document.createElement("input");x.type="checkbox",x.id="prio",v.appendChild(x);const T=document.createElement("h5");T.textContent="Date",v.appendChild(T);const j=document.createElement("input");j.type="date",j.id="date",j.name="date",v.appendChild(j);const B=document.createElement("button");B.type="submit",B.textContent="Submit",C.appendChild(B);const I=document.createElement("div");I.id="listBox",n.appendChild(I)}();const e=(()=>{let e=[];if(localStorage.getItem("localData")){let t=JSON.parse(localStorage.getItem("localData"));e.push(...t)}else e=[{projectName:"Default",tasks:[{taskTitle:"Code the to do project",highPrio:!0,date:"2023-11-31"}]}];return{addProject:t=>{const n={projectName:t,tasks:[]};e.push(n),localStorage.setItem("localData",JSON.stringify(e))},getProject:t=>e.find((e=>e.projectName===t)),projectData:e}})(),t=(()=>{const t=document.getElementById("projectList"),d=document.getElementById("newList"),c=document.getElementById("popup"),a=document.getElementById("newListForm"),o=document.getElementById("listBox");let i;const l=()=>{t.innerHTML="",e.projectData.forEach((e=>{const n=document.createElement("button");n.textContent=e.projectName,n.id=e.projectName,t.appendChild(n)}))};return l(),d.addEventListener("click",(()=>{c.classList.remove("inactive"),c.classList.add("active")})),a.addEventListener("submit",(function(t){t.preventDefault();let n=document.getElementById("title").value;e.addProject(n),l(),c.classList.remove("active"),c.classList.add("inactive")})),t.addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&(i=t.target.id,(()=>{o.innerHTML="";const t=document.createElement("div");t.textContent="Project: "+i,t.id=i,t.classList.add("listEntry"),o.appendChild(t);const d=document.createElement("div");d.textContent="Tasks:",d.classList.add("listEntry"),o.appendChild(d);const c=e.getProject(i),a=document.createElement("div");a.id="tasklist",o.appendChild(a),n.displayTasks1(c,a);const l=document.createElement("button");l.textContent="Add new task",l.id="newTaskButton",t.appendChild(l)})())})),{getProjectId:()=>i,displayProjects:l}})(),n=((()=>{const d=document.getElementById("listBox"),c=document.getElementById("newTaskPop"),a=document.getElementById("newTaskForm");let o;d.addEventListener("click",(e=>{"newTaskButton"===e.target.id&&(console.log("you need a pop up"),c.classList.remove("inactive"),c.classList.add("active"))})),a.addEventListener("submit",(function(a){a.preventDefault();const i=t.getProjectId(),l=document.getElementById("taskTitle").value;let s;s=!!document.getElementById("prio").checked;const m={taskTitle:l,highPrio:s,date:document.getElementById("date").value};o=e.getProject(i),o.tasks.push(m),localStorage.setItem("localData",JSON.stringify(e.projectData));const p=document.getElementById("tasklist");d.appendChild(p),p.innerHTML="",n.displayTasks1(o,p),c.classList.remove("active"),c.classList.add("inactive")}))})(),{displayTasks1:function(e,t){e.tasks.forEach(((n,d)=>{const c=document.createElement("div");c.classList.add("taskDiv");const a=document.createElement("div");a.textContent=n.taskTitle,c.appendChild(a);const o=document.createElement("div");!0===n.highPrio?o.textContent="High prio":o.textContent="Low prio",c.appendChild(o);const i=document.createElement("div");i.textContent="Due date: "+n.date,c.appendChild(i);const l=document.createElement("button");l.textContent="Delete",l.addEventListener("click",(()=>{c.remove(),e.tasks.splice(d,1)})),c.appendChild(l),t.appendChild(c)}))}})})();